<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout">

<head>
    <title layout:title-pattern="$CONTENT_TITLE"></title>
    <th:block th:replace="/decorator/decorator-default-head :: content"></th:block>
</head>

<body th:with="pageUri=${#httpServletRequest.requestURI}">
    <nav class="layout-header navbar navbar-dark navbar-expand">
        <a class="navbar-brand mr-3" href="#">数据推送系统</a>
        <ul class="navbar-nav">
            <li class="nav-item dropdown">
                <a class="btn btn-sm" th:href="@{/logout}"><i class="fas fa-sign-out-alt"></i>注销</a>
            </li>
        </ul>
    </nav>
    <div class="layout-content">
        <div class="nav-wrapper">
            <div class="nav-header">首页</div>
            <ul class="nav flex-column">
                <li class="nav-item" th:with="targets=@{/targets}"
                    th:classappend="${#strings.startsWith(pageUri, targets)} ? 'active' : ''">
                    <a class="nav-link" th:href="${targets}"><i class="fas fa-tachometer-alt"></i> 探测器(指标)</a>
                </li>
                <li class="nav-item" th:with="units=@{/units}"
                    th:classappend="${#strings.startsWith(pageUri, units)} ? 'active' : ''">
                    <a class="nav-link" th:href="${units}"><i class="fas fa-eye"></i> 企业状态</a>
                </li>
            </ul>
        </div>
        <div class="page-wrapper">
            <th:block layout:fragment="content"></th:block>
        </div>
    </div>
    <th:block layout:fragment="js"></th:block>
</body>

</html>